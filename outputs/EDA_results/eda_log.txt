
================================================================================
CULTURAL ALIGNMENT EDA PIPELINE
================================================================================
[19:17:39] Start time: 2025-11-15 19:17:39
[19:17:39] MODE: FULL DATASET ANALYSIS (NO SAMPLING)

================================================================================
PHASE 0: DATA LOADING
================================================================================
[19:17:39] Loading activation index...
  • Total sentences: 33522
  • Columns: ['row_id', 'sentence_num', 'sentence', 'group_type', 'state', 'attribute', 'base_correct', 'instruct_correct', 'activation_idx']
[19:17:39] Loading base layer 6...
  •   Shape: (33522, 1536)
[19:17:39] Loading base layer 12...
  •   Shape: (33522, 1536)
[19:17:40] Loading base layer 18...
  •   Shape: (33522, 1536)
[19:17:40] Loading instruct layer 6...
  •   Shape: (33522, 1536)
[19:17:40] Loading instruct layer 12...
  •   Shape: (33522, 1536)
[19:17:40] Loading instruct layer 18...
  •   Shape: (33522, 1536)

================================================================================
PHASE 1: TEXT QUALITY & SANITY
================================================================================

------------------------------------------------------------
1.1 Sentence Length Analysis
------------------------------------------------------------
[19:17:40] Length statistics by group:
[19:17:42] ✓ Saved length distribution plots

------------------------------------------------------------
1.2 Lexical Diversity Analysis
------------------------------------------------------------
[19:17:42] Lexical diversity by group:

------------------------------------------------------------
1.3 N-gram Frequency Analysis
------------------------------------------------------------
[19:17:44] 
SUPPRESSION - Top bigrams:
[19:17:44]   agricultural cycles, andhra pradesh, arunachal pradesh, community gatherings, dadra nagar, daman diu, haveli daman, high altitude, himachal pradesh, indian states
[19:17:46] 
ENHANCEMENT - Top bigrams:
[19:17:46]   agricultural cycles, andhra pradesh, arunachal pradesh, community gatherings, harvest celebrations, high altitude, himachal pradesh, indian cities, indian states, passed generations
[19:17:47] 
CONTROL - Top bigrams:
[19:17:47]   community gatherings, high altitude, indian cities, indian states, local guides, located telangana, national park, passed generations, south asia, stands apart

------------------------------------------------------------
1.4 Near-Duplicate Detection (FULL DATASET)
------------------------------------------------------------
[19:17:47] Computing TF-IDF similarity matrix for FULL dataset...
[19:17:47] This will take several minutes - please be patient...
[19:17:48] Computing pairwise similarities for all 33,522 sentences...
[19:17:48] Creating 33,522 × 33,522 similarity matrix...
[19:18:03] Identifying near-duplicate pairs (checking upper triangle only)...
[19:18:03]   Progress: 0/33,522 rows (0.0%)
[19:18:07]   Progress: 1,000/33,522 rows (3.0%)
[19:18:12]   Progress: 2,000/33,522 rows (6.0%)
[19:18:16]   Progress: 3,000/33,522 rows (8.9%)
[19:18:20]   Progress: 4,000/33,522 rows (11.9%)
[19:18:24]   Progress: 5,000/33,522 rows (14.9%)
[19:18:28]   Progress: 6,000/33,522 rows (17.9%)
[19:18:31]   Progress: 7,000/33,522 rows (20.9%)
[19:18:35]   Progress: 8,000/33,522 rows (23.9%)
[19:18:38]   Progress: 9,000/33,522 rows (26.8%)
[19:18:42]   Progress: 10,000/33,522 rows (29.8%)
[19:18:45]   Progress: 11,000/33,522 rows (32.8%)
[19:18:48]   Progress: 12,000/33,522 rows (35.8%)
[19:18:51]   Progress: 13,000/33,522 rows (38.8%)
[19:18:53]   Progress: 14,000/33,522 rows (41.8%)
[19:18:56]   Progress: 15,000/33,522 rows (44.7%)
[19:18:58]   Progress: 16,000/33,522 rows (47.7%)
[19:19:01]   Progress: 17,000/33,522 rows (50.7%)
[19:19:03]   Progress: 18,000/33,522 rows (53.7%)
[19:19:05]   Progress: 19,000/33,522 rows (56.7%)
[19:19:07]   Progress: 20,000/33,522 rows (59.7%)
[19:19:09]   Progress: 21,000/33,522 rows (62.6%)
[19:19:10]   Progress: 22,000/33,522 rows (65.6%)
[19:19:12]   Progress: 23,000/33,522 rows (68.6%)
[19:19:13]   Progress: 24,000/33,522 rows (71.6%)
[19:19:14]   Progress: 25,000/33,522 rows (74.6%)
[19:19:15]   Progress: 26,000/33,522 rows (77.6%)
[19:19:16]   Progress: 27,000/33,522 rows (80.5%)
[19:19:17]   Progress: 28,000/33,522 rows (83.5%)
[19:19:18]   Progress: 29,000/33,522 rows (86.5%)
[19:19:18]   Progress: 30,000/33,522 rows (89.5%)
[19:19:19]   Progress: 31,000/33,522 rows (92.5%)
[19:19:19]   Progress: 32,000/33,522 rows (95.5%)
[19:19:19]   Progress: 33,000/33,522 rows (98.4%)
[19:19:19]   Progress: 33,522/33,522 rows (100.0%)
  • Near-duplicate pairs found (FULL dataset): 0
[19:19:19] ✓ No near-duplicates found at threshold {config.SIMILARITY_THRESHOLD}!

================================================================================
PHASE 2: COVERAGE & BALANCE AUDIT
================================================================================

------------------------------------------------------------
2.1 Group Type Distribution
------------------------------------------------------------
[19:19:20] Sentence counts by group:
  • enhancement: 11,970 (35.7%)
  • suppression: 11,934 (35.6%)
  • control: 9,618 (28.7%)

------------------------------------------------------------
2.2 Cross-Tabulation Analysis
------------------------------------------------------------
[19:19:20] 
Group × State cross-tab shape: (3, 36)
[19:19:20] Cells with <30 sentences: 20
[19:19:20] 
Group × Attribute cross-tab shape: (3, 16)
[19:19:20] Cells with <30 sentences: 5

------------------------------------------------------------
2.3 State Coverage
------------------------------------------------------------
[19:19:20] 
Top 10 states by sentence count:
  • Telangana: 2,889
  • Uttarakhand: 1,806
  • Tamil_Nadu: 1,590
  • Sikkim: 1,485
  • Tripura: 1,449
  • Manipur: 1,449
  • Arunachal_Pradesh: 1,431
  • Himachal_Pradesh: 1,422
  • Jharkhand: 1,389
  • Karnataka: 1,308
[19:19:20] 
Bottom 10 states by sentence count:
  • Maharashtra: 534
  • Andaman_and_Nicobar: 474
  • Bihar: 447
  • Ladakh: 429
  • Goa: 405
  • Madhya_Pradesh: 390
  • Jammu_kashmir: 336
  • Kerala: 324
  • Chandigarh: 282
  • Lakshadweep: 171
[19:19:21] ✓ Saved state distribution plots

------------------------------------------------------------
2.4 Attribute Coverage
------------------------------------------------------------
[19:19:21] 
Attribute distribution:
  • Tourism: 5,613
  • History: 3,528
  • Cultural_Common_Sense: 3,363
  • Festivals: 3,267
  • Cuisine: 3,177
  • Dance_and_Music: 2,874
  • Art: 2,781
  • Costume: 2,103
  • Rituals_and_Ceremonies: 2,019
  • Language: 1,710
  • Personalities: 1,482
  • Religion: 888
  • Sports: 342
  • Transport: 183
  • Medicine: 135
  • Nightlife: 57
[19:19:22] ✓ Saved attribute distribution plot

------------------------------------------------------------
2.5 Model Correctness by Group
------------------------------------------------------------
[19:19:22] 
Correctness rates by group:
[19:19:22] ✓ Saved correctness plot

================================================================================
PHASE 3: SEMANTIC STRUCTURE EXPLORATION
================================================================================

------------------------------------------------------------
3.1 Generating Sentence Embeddings
------------------------------------------------------------
[19:19:22] Loading Sentence-BERT model...
[19:19:23] Encoding 33522 sentences (this will take a few minutes)...
  • Embedding shape: (33522, 384)
[19:20:34] ✓ Saved embeddings to /data/user_data/anshulk/cultural-alignment-study/sanskriti_data/EDA_data/sentence_embeddings.npy

------------------------------------------------------------
3.2 UMAP Dimensionality Reduction
------------------------------------------------------------
[19:20:34] Running UMAP...
[19:21:12] ✓ Saved UMAP embeddings to /data/user_data/anshulk/cultural-alignment-study/sanskriti_data/EDA_data/umap_2d.npy

------------------------------------------------------------
3.3 HDBSCAN Clustering
------------------------------------------------------------
[19:21:12] Running HDBSCAN...
  • Clusters found: 263
  • Noise points: 6851 (20.4%)

------------------------------------------------------------
3.4 Creating Visualizations
------------------------------------------------------------
[19:21:19] ✓ Saved UMAP visualizations

------------------------------------------------------------
3.5 Cluster Composition Analysis
------------------------------------------------------------
[19:21:20] ✓ Analyzed 263 clusters

------------------------------------------------------------
3.6 Baseline Probing on Embeddings
------------------------------------------------------------
[19:21:20] Training group_type probe...
  • Group type probe accuracy: 0.399 ± 0.026
[19:23:14] Training attribute probe...
  • Attribute probe accuracy: 0.775 ± 0.016

================================================================================
PHASE 4: ACTIVATION-LEVEL DEEP DIVE
================================================================================

------------------------------------------------------------
4.1 Activation Distribution Statistics
------------------------------------------------------------
[19:25:25] BASE Layer 6:
  •   Mean: 0.0155
  •   Std: 0.8706
  •   Per-dim std (mean): 0.1360
[19:25:26] BASE Layer 12:
  •   Mean: 0.0173
  •   Std: 0.9890
  •   Per-dim std (mean): 0.1747
[19:25:27] BASE Layer 18:
  •   Mean: 0.0180
  •   Std: 1.1837
  •   Per-dim std (mean): 0.2376
[19:25:28] INSTRUCT Layer 6:
  •   Mean: 0.0154
  •   Std: 0.8573
  •   Per-dim std (mean): 0.1313
[19:25:29] INSTRUCT Layer 12:
  •   Mean: 0.0168
  •   Std: 0.9717
  •   Per-dim std (mean): 0.1720
[19:25:30] INSTRUCT Layer 18:
  •   Mean: 0.0168
  •   Std: 1.1698
  •   Per-dim std (mean): 0.2322
[19:25:33] ✓ Saved activation std plots

------------------------------------------------------------
4.2 Group Centroid Analysis
------------------------------------------------------------
[19:25:33] 
BASE Layer 6 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.54
  •   suppression_vs_control: cos=0.9999, eucl=0.52
  •   enhancement_vs_control: cos=0.9998, eucl=0.68
[19:25:33] 
BASE Layer 12 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.66
  •   suppression_vs_control: cos=0.9998, eucl=0.72
  •   enhancement_vs_control: cos=0.9997, eucl=0.90
[19:25:33] 
BASE Layer 18 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9998, eucl=0.87
  •   suppression_vs_control: cos=0.9997, eucl=1.04
  •   enhancement_vs_control: cos=0.9996, eucl=1.24
[19:25:33] 
INSTRUCT Layer 6 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.53
  •   suppression_vs_control: cos=0.9999, eucl=0.51
  •   enhancement_vs_control: cos=0.9998, eucl=0.66
[19:25:33] 
INSTRUCT Layer 12 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.65
  •   suppression_vs_control: cos=0.9998, eucl=0.70
  •   enhancement_vs_control: cos=0.9997, eucl=0.88
[19:25:33] 
INSTRUCT Layer 18 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.85
  •   suppression_vs_control: cos=0.9997, eucl=1.00
  •   enhancement_vs_control: cos=0.9997, eucl=1.20
[19:25:35] ✓ Saved group distance plots

------------------------------------------------------------
4.3 UMAP on Activation Space
------------------------------------------------------------
[19:25:35] Running UMAP on base layer 6...
[19:26:01] ✓ Saved UMAP visualization for base layer 6
[19:26:01] Running UMAP on base layer 12...
[19:26:26] ✓ Saved UMAP visualization for base layer 12
[19:26:26] Running UMAP on base layer 18...
[19:26:52] ✓ Saved UMAP visualization for base layer 18
[19:26:52] Running UMAP on instruct layer 6...
[19:27:17] ✓ Saved UMAP visualization for instruct layer 6
[19:27:17] Running UMAP on instruct layer 12...
[19:27:43] ✓ Saved UMAP visualization for instruct layer 12
[19:27:43] Running UMAP on instruct layer 18...
[19:28:08] ✓ Saved UMAP visualization for instruct layer 18

------------------------------------------------------------
4.3.5 HDBSCAN Clustering on Activation Space
------------------------------------------------------------
[19:28:08] Running HDBSCAN on base layer 18 activations...

================================================================================
CULTURAL ALIGNMENT EDA PIPELINE
================================================================================
[20:09:33] Start time: 2025-11-15 20:09:33
[20:09:33] MODE: FULL DATASET ANALYSIS (NO SAMPLING)

================================================================================
PHASE 0: DATA LOADING
================================================================================
[20:09:33] Loading activation index...
  • Total sentences: 33522
  • Columns: ['row_id', 'sentence_num', 'sentence', 'group_type', 'state', 'attribute', 'base_correct', 'instruct_correct', 'activation_idx']
[20:09:33] Loading base layer 6...
  •   Shape: (33522, 1536)
[20:09:33] Loading base layer 12...
  •   Shape: (33522, 1536)
[20:09:34] Loading base layer 18...
  •   Shape: (33522, 1536)
[20:09:34] Loading instruct layer 6...
  •   Shape: (33522, 1536)
[20:09:34] Loading instruct layer 12...
  •   Shape: (33522, 1536)
[20:09:34] Loading instruct layer 18...
  •   Shape: (33522, 1536)

================================================================================
PHASE 1: TEXT QUALITY & SANITY
================================================================================

------------------------------------------------------------
1.1 Sentence Length Analysis
------------------------------------------------------------
[20:09:34] Length statistics by group:
[20:09:35] ✓ Saved length distribution plots

------------------------------------------------------------
1.2 Lexical Diversity Analysis
------------------------------------------------------------
[20:09:36] Lexical diversity by group:

------------------------------------------------------------
1.3 N-gram Frequency Analysis
------------------------------------------------------------
[20:09:37] 
SUPPRESSION - Top bigrams:
[20:09:37]   agricultural cycles, andhra pradesh, arunachal pradesh, community gatherings, dadra nagar, daman diu, haveli daman, high altitude, himachal pradesh, indian states
[20:09:38] 
ENHANCEMENT - Top bigrams:
[20:09:38]   agricultural cycles, andhra pradesh, arunachal pradesh, community gatherings, harvest celebrations, high altitude, himachal pradesh, indian cities, indian states, passed generations
[20:09:39] 
CONTROL - Top bigrams:
[20:09:39]   community gatherings, high altitude, indian cities, indian states, local guides, located telangana, national park, passed generations, south asia, stands apart

------------------------------------------------------------
1.4 Near-Duplicate Detection (FULL DATASET)
------------------------------------------------------------
[20:09:39] Computing TF-IDF similarity matrix for FULL dataset...
[20:09:39] This will take several minutes - please be patient...
[20:09:40] Computing pairwise similarities for all 33,522 sentences...
[20:09:40] Creating 33,522 × 33,522 similarity matrix...
[20:09:52] Identifying near-duplicate pairs (checking upper triangle only)...
[20:09:52]   Progress: 0/33,522 rows (0.0%)
[20:09:56]   Progress: 1,000/33,522 rows (3.0%)
[20:09:59]   Progress: 2,000/33,522 rows (6.0%)
[20:10:02]   Progress: 3,000/33,522 rows (8.9%)
[20:10:05]   Progress: 4,000/33,522 rows (11.9%)
[20:10:08]   Progress: 5,000/33,522 rows (14.9%)
[20:10:11]   Progress: 6,000/33,522 rows (17.9%)
[20:10:14]   Progress: 7,000/33,522 rows (20.9%)
[20:10:16]   Progress: 8,000/33,522 rows (23.9%)
[20:10:19]   Progress: 9,000/33,522 rows (26.8%)
[20:10:21]   Progress: 10,000/33,522 rows (29.8%)
[20:10:23]   Progress: 11,000/33,522 rows (32.8%)
[20:10:25]   Progress: 12,000/33,522 rows (35.8%)
[20:10:27]   Progress: 13,000/33,522 rows (38.8%)
[20:10:29]   Progress: 14,000/33,522 rows (41.8%)
[20:10:31]   Progress: 15,000/33,522 rows (44.7%)
[20:10:33]   Progress: 16,000/33,522 rows (47.7%)
[20:10:34]   Progress: 17,000/33,522 rows (50.7%)
[20:10:36]   Progress: 18,000/33,522 rows (53.7%)
[20:10:37]   Progress: 19,000/33,522 rows (56.7%)
[20:10:39]   Progress: 20,000/33,522 rows (59.7%)
[20:10:40]   Progress: 21,000/33,522 rows (62.6%)
[20:10:41]   Progress: 22,000/33,522 rows (65.6%)
[20:10:42]   Progress: 23,000/33,522 rows (68.6%)
[20:10:43]   Progress: 24,000/33,522 rows (71.6%)
[20:10:44]   Progress: 25,000/33,522 rows (74.6%)
[20:10:45]   Progress: 26,000/33,522 rows (77.6%)
[20:10:46]   Progress: 27,000/33,522 rows (80.5%)
[20:10:46]   Progress: 28,000/33,522 rows (83.5%)
[20:10:47]   Progress: 29,000/33,522 rows (86.5%)
[20:10:47]   Progress: 30,000/33,522 rows (89.5%)
[20:10:47]   Progress: 31,000/33,522 rows (92.5%)
[20:10:47]   Progress: 32,000/33,522 rows (95.5%)
[20:10:48]   Progress: 33,000/33,522 rows (98.4%)
[20:10:48]   Progress: 33,522/33,522 rows (100.0%)
  • Near-duplicate pairs found (FULL dataset): 0
[20:10:48] ✓ No near-duplicates found at threshold {config.SIMILARITY_THRESHOLD}!

================================================================================
PHASE 2: COVERAGE & BALANCE AUDIT
================================================================================

------------------------------------------------------------
2.1 Group Type Distribution
------------------------------------------------------------
[20:10:48] Sentence counts by group:
  • enhancement: 11,970 (35.7%)
  • suppression: 11,934 (35.6%)
  • control: 9,618 (28.7%)

------------------------------------------------------------
2.2 Cross-Tabulation Analysis
------------------------------------------------------------
[20:10:48] 
Group × State cross-tab shape: (3, 36)
[20:10:48] Cells with <30 sentences: 20
[20:10:48] 
Group × Attribute cross-tab shape: (3, 16)
[20:10:48] Cells with <30 sentences: 5

------------------------------------------------------------
2.3 State Coverage
------------------------------------------------------------
[20:10:48] 
Top 10 states by sentence count:
  • Telangana: 2,889
  • Uttarakhand: 1,806
  • Tamil_Nadu: 1,590
  • Sikkim: 1,485
  • Tripura: 1,449
  • Manipur: 1,449
  • Arunachal_Pradesh: 1,431
  • Himachal_Pradesh: 1,422
  • Jharkhand: 1,389
  • Karnataka: 1,308
[20:10:48] 
Bottom 10 states by sentence count:
  • Maharashtra: 534
  • Andaman_and_Nicobar: 474
  • Bihar: 447
  • Ladakh: 429
  • Goa: 405
  • Madhya_Pradesh: 390
  • Jammu_kashmir: 336
  • Kerala: 324
  • Chandigarh: 282
  • Lakshadweep: 171
[20:10:49] ✓ Saved state distribution plots

------------------------------------------------------------
2.4 Attribute Coverage
------------------------------------------------------------
[20:10:49] 
Attribute distribution:
  • Tourism: 5,613
  • History: 3,528
  • Cultural_Common_Sense: 3,363
  • Festivals: 3,267
  • Cuisine: 3,177
  • Dance_and_Music: 2,874
  • Art: 2,781
  • Costume: 2,103
  • Rituals_and_Ceremonies: 2,019
  • Language: 1,710
  • Personalities: 1,482
  • Religion: 888
  • Sports: 342
  • Transport: 183
  • Medicine: 135
  • Nightlife: 57
[20:10:50] ✓ Saved attribute distribution plot

------------------------------------------------------------
2.5 Model Correctness by Group
------------------------------------------------------------
[20:10:50] 
Correctness rates by group:
[20:10:50] ✓ Saved correctness plot

================================================================================
PHASE 3: SEMANTIC STRUCTURE EXPLORATION
================================================================================

------------------------------------------------------------
3.1 Generating Sentence Embeddings
------------------------------------------------------------
[20:10:50] Loading Sentence-BERT model...
[20:10:50] Encoding 33522 sentences (this will take a few minutes)...
  • Embedding shape: (33522, 384)
[20:12:42] ✓ Saved embeddings to /data/user_data/anshulk/cultural-alignment-study/sanskriti_data/EDA_data/sentence_embeddings.npy

------------------------------------------------------------
3.2 UMAP Dimensionality Reduction
------------------------------------------------------------
[20:12:42] Running UMAP...
[20:13:09] ✓ Saved UMAP embeddings to /data/user_data/anshulk/cultural-alignment-study/sanskriti_data/EDA_data/umap_2d.npy

------------------------------------------------------------
3.3 HDBSCAN Clustering
------------------------------------------------------------
[20:13:09] Running HDBSCAN...
  • Clusters found: 283
  • Noise points: 6176 (18.4%)

------------------------------------------------------------
3.4 Creating Visualizations
------------------------------------------------------------
[20:13:15] ✓ Saved UMAP visualizations

------------------------------------------------------------
3.5 Cluster Composition Analysis
------------------------------------------------------------
[20:13:15] ✓ Analyzed 283 clusters

------------------------------------------------------------
3.6 Baseline Probing on Embeddings
------------------------------------------------------------
[20:13:15] Training group_type probe...
  • Group type probe accuracy: 0.399 ± 0.025
[20:14:20] Training attribute probe...
  • Attribute probe accuracy: 0.775 ± 0.016

================================================================================
PHASE 4: ACTIVATION-LEVEL DEEP DIVE
================================================================================

------------------------------------------------------------
4.1 Activation Distribution Statistics
------------------------------------------------------------
[20:16:03] BASE Layer 6:
  •   Mean: 0.0155
  •   Std: 0.8706
  •   Per-dim std (mean): 0.1360
[20:16:03] BASE Layer 12:
  •   Mean: 0.0173
  •   Std: 0.9890
  •   Per-dim std (mean): 0.1747
[20:16:04] BASE Layer 18:
  •   Mean: 0.0180
  •   Std: 1.1837
  •   Per-dim std (mean): 0.2376
[20:16:05] INSTRUCT Layer 6:
  •   Mean: 0.0154
  •   Std: 0.8573
  •   Per-dim std (mean): 0.1313
[20:16:05] INSTRUCT Layer 12:
  •   Mean: 0.0168
  •   Std: 0.9717
  •   Per-dim std (mean): 0.1720
[20:16:06] INSTRUCT Layer 18:
  •   Mean: 0.0168
  •   Std: 1.1698
  •   Per-dim std (mean): 0.2322
[20:16:08] ✓ Saved activation std plots

------------------------------------------------------------
4.2 Group Centroid Analysis
------------------------------------------------------------
[20:16:08] 
BASE Layer 6 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.54
  •   suppression_vs_control: cos=0.9999, eucl=0.52
  •   enhancement_vs_control: cos=0.9998, eucl=0.68
[20:16:08] 
BASE Layer 12 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.66
  •   suppression_vs_control: cos=0.9998, eucl=0.72
  •   enhancement_vs_control: cos=0.9997, eucl=0.90
[20:16:08] 
BASE Layer 18 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9998, eucl=0.87
  •   suppression_vs_control: cos=0.9997, eucl=1.04
  •   enhancement_vs_control: cos=0.9996, eucl=1.24
[20:16:08] 
INSTRUCT Layer 6 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.53
  •   suppression_vs_control: cos=0.9999, eucl=0.51
  •   enhancement_vs_control: cos=0.9998, eucl=0.66
[20:16:08] 
INSTRUCT Layer 12 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.65
  •   suppression_vs_control: cos=0.9998, eucl=0.70
  •   enhancement_vs_control: cos=0.9997, eucl=0.88
[20:16:08] 
INSTRUCT Layer 18 - Group Distances:
  •   suppression_vs_enhancement: cos=0.9999, eucl=0.85
  •   suppression_vs_control: cos=0.9997, eucl=1.00
  •   enhancement_vs_control: cos=0.9997, eucl=1.20
[20:16:09] ✓ Saved group distance plots

------------------------------------------------------------
4.3 UMAP on Activation Space
------------------------------------------------------------
[20:16:09] Running UMAP on base layer 6...
[20:16:27] ✓ Saved UMAP visualization for base layer 6
[20:16:27] Running UMAP on base layer 12...
[20:16:45] ✓ Saved UMAP visualization for base layer 12
[20:16:45] Running UMAP on base layer 18...
[20:17:03] ✓ Saved UMAP visualization for base layer 18
[20:17:03] Running UMAP on instruct layer 6...
[20:17:21] ✓ Saved UMAP visualization for instruct layer 6
[20:17:21] Running UMAP on instruct layer 12...
[20:17:39] ✓ Saved UMAP visualization for instruct layer 12
[20:17:39] Running UMAP on instruct layer 18...
[20:17:56] ✓ Saved UMAP visualization for instruct layer 18

------------------------------------------------------------
4.3.5 HDBSCAN Clustering on Activation Space
------------------------------------------------------------
[20:17:56] Running HDBSCAN on base layer 18 activations...
[20:17:57] BASE Layer 18:
  •   Clusters found: 124
  •   Noise points: 7226 (21.6%)
[20:17:57] ✓ Saved base cluster composition to CSV
[20:17:57] 
BASE Cluster purity analysis:
  •   Suppression-pure clusters (>70%): 5 clusters, 379 sentences
  •   Enhancement-pure clusters (>70%): 4 clusters, 275 sentences
  •   Control-pure clusters (>70%): 1 clusters, 61 sentences
  •   Average cluster purity: 50.8%
[20:17:57] Running HDBSCAN on instruct layer 18 activations...
[20:17:57] INSTRUCT Layer 18:
  •   Clusters found: 124
  •   Noise points: 7226 (21.6%)
[20:17:57] ✓ Saved instruct cluster composition to CSV
[20:17:57] 
INSTRUCT Cluster purity analysis:
  •   Suppression-pure clusters (>70%): 5 clusters, 379 sentences
  •   Enhancement-pure clusters (>70%): 4 clusters, 275 sentences
  •   Control-pure clusters (>70%): 1 clusters, 61 sentences
  •   Average cluster purity: 50.8%
[20:17:57] 
Cross-model cluster comparison:
[20:18:01] ✓ Saved activation cluster comparison plot

------------------------------------------------------------
4.4 Base vs Instruct Comparison
------------------------------------------------------------
[20:18:01] 
Layer 6 Base-Instruct Similarity:
  •   Overall: 0.9997 ± 0.0001
  •   suppression: 0.9997 ± 0.0001
  •   enhancement: 0.9997 ± 0.0001
  •   control: 0.9997 ± 0.0001
[20:18:01] 
Layer 12 Base-Instruct Similarity:
  •   Overall: 0.9996 ± 0.0001
  •   suppression: 0.9996 ± 0.0001
  •   enhancement: 0.9996 ± 0.0001
  •   control: 0.9996 ± 0.0001
[20:18:02] 
Layer 18 Base-Instruct Similarity:
  •   Overall: 0.9991 ± 0.0002
  •   suppression: 0.9991 ± 0.0002
  •   enhancement: 0.9991 ± 0.0002
  •   control: 0.9991 ± 0.0002
[20:18:03] ✓ Saved base-instruct similarity plots

================================================================================
PHASE 5: MANUAL VALIDATION SAMPLING
================================================================================
[20:18:03] Generating stratified sample of 200 sentences...
  • Sample size: 180
  • Distribution: {'suppression': 60, 'enhancement': 60, 'control': 60}
[20:18:03] ✓ Saved to /home/anshulk/cultural-alignment-study/outputs/EDA_results/tables/manual_validation_sample.csv
[20:18:03] 
Instructions for manual validation:
[20:18:03] 1. Open manual_validation_sample.csv
[20:18:03] 2. For each sentence, fill in:
[20:18:03]    - manual_factual_correct: yes/no/unsure
[20:18:03]    - manual_cultural_specific: yes/no (is it truly about the culture?)
[20:18:03]    - manual_style_issues: list any repetitive/generic phrasing
[20:18:03]    - manual_notes: any other observations

================================================================================
GENERATING SUMMARY REPORT
================================================================================
[20:18:03] ✓ Summary report saved
[20:18:03] ✓ Saved enhanced dataset to /home/anshulk/cultural-alignment-study/outputs/EDA_results/tables/enhanced_dataset.csv

================================================================================
PIPELINE COMPLETE
================================================================================
[20:18:03] End time: 2025-11-15 20:18:03
[20:18:03] Total duration: 8.5 minutes
[20:18:03] 
All outputs saved to:
[20:18:03]   /home/anshulk/cultural-alignment-study/outputs/EDA_results
[20:18:03]   /data/user_data/anshulk/cultural-alignment-study/sanskriti_data/EDA_data
